<!doctype html>
<html lang=en>
  <head>
    <meta charset=utf-8>
    <link rel="stylesheet" href="https://p.trellocdn.com/power-up.min.css">
    <link rel="stylesheet" href="./css/card-back-section.css">
    <script src="https://p.trellocdn.com/power-up.min.js"></script>
    <title>Subtasks</title>
  </head>
  <body>
    <div id='parent'></div>
    <script src="https://p.trellocdn.com/power-up.min.js"></script>
    <script>
        var Promise = TrelloPowerUp.Promise;
        var t = TrelloPowerUp.iframe();
        t.get('card', 'shared', 'mb-parent', null).then(async function(parent)
        {
            if (parent == null) return;

            t.cards('id', 'name', 'cover').then(function(cards)
            {
                let card = cards.find((c) => c.id == parent)
                if (card == null) return;
                
                document.getElementById('parent').innerHTML = "Parent card is <button type='button'>" + card.name + "</button>"
            });
        });
    </script>
  </body>
</html>
