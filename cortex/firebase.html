
	<script type="module">
		// Import the functions you need from the SDKs you need
		import { initializeApp } from "https://www.gstatic.com/firebasejs/10.6.0/firebase-app.js"
		import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.6.0/firebase-analytics.js"
		import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signInWithPopup, GoogleAuthProvider } from "https://www.gstatic.com/firebasejs/10.6.0/firebase-auth.js"
		import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/10.6.0/firebase-firestore.js"
		// TODO: Add SDKs for Firebase products that you want to use
		// https://firebase.google.com/docs/web/setup#available-libraries

		// Your web app's Firebase configuration
		// For Firebase JS SDK v7.20.0 and later, measurementId is optional
		const firebaseConfig = {
			apiKey: "AIzaSyCAYdCceX7EXBok393JHQfI9foXFHftZjs",
			authDomain: "cortex-character-sheet.firebaseapp.com",
			projectId: "cortex-character-sheet",
			storageBucket: "cortex-character-sheet.appspot.com",
			messagingSenderId: "815978726011",
			appId: "1:815978726011:web:e8f5817cf5be4da58198de",
			measurementId: "G-PB75BZ97PC"
		}

		// Initialize Firebase
		const app = initializeApp(firebaseConfig)
		const analytics = getAnalytics(app)
		const auth = getAuth(app)
		const db = getFirestore(app)

		/*
				createUserWithEmailAndPassword(auth, "me@mapache.org", "testPassword1497")
					.then((userCredential) => {
						// Signed up 
						const user = userCredential.user;
						// ...
					})
					.catch((error) => {
						const errorCode = error.code;
						const errorMessage = error.message;
						// ..
					});
		
				signInWithEmailAndPassword(auth, "me@mapache.org", "testPassword1497")
					.then((userCredential) => {
						// Signed in 
						const user = userCredential.user;
						console.log("Signed in!")
						// ...
					})
					.catch((error) => {
						const errorCode = error.code;
						const errorMessage = error.message;
					});
		*/

		signInWithPopup(auth, GoogleAuthProvider)
			.then((result) => {
				// This gives you a Google Access Token. You can use it to access the Google API.
				const credential = GoogleAuthProvider.credentialFromResult(result);
				const token = credential.accessToken;
				// The signed-in user info.
				const user = result.user;
				// IdP data available using getAdditionalUserInfo(result)
				// ...
			}).catch((error) => {
				// Handle Errors here.
				const errorCode = error.code;
				const errorMessage = error.message;
				// The email of the user's account used.
				const email = error.customData.email;
				// The AuthCredential type that was used.
				const credential = GoogleAuthProvider.credentialFromError(error);
				// ...
			});

		try {
			const docRef = await addDoc(collection(db, "users"), {
				first: "Ada",
				last: "Lovelace",
				born: 1815
			});
			console.log("Document written with ID: ", docRef.id);
		} catch (e) {
			console.error("Error adding document: ", e);
		}
	</script>